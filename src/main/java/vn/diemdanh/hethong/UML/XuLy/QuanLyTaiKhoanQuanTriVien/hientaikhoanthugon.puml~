@startuml
!theme plain
title Luồng hiển thị danh sách tài khoản quản trị viên

actor "Quản trị viên" as User

participant "DanhSachTaiKhoanAdmin\n(Component)" as Component
participant "adminService.js\n(Service)" as FrontendService
participant "AdminController.java\n(Controller)" as Controller
participant "AdminService.java\n(Service)" as Service
participant "AdminRepository.java\n(Repository)" as Repository
database "CSDL" as DB

== Giao diện người dùng ==
User -> Component: Truy cập trang danh sách
Component -> Component: useEffect()

== Gọi API backend ==
Component -> FrontendService: fetchAdmins()
FrontendService -> Controller: GET /api/admin/all
note right: Gửi kèm Authorization: Bearer token

== Xử lý phía server ==
Controller -> Service: findAll()
Service -> Repository: findAll()
Repository -> DB: SELECT * FROM admin
DB --> Repository: Danh sách Admin
Repository --> Service: Danh sách Admin
Service -> Service: Chuyển đổi thành AdminDto
Service --> Controller: Danh sách AdminDto
Controller --> FrontendService: JSON Response
FrontendService --> Component: Danh sách AdminDto

== Hiển thị kết quả ==
Component -> Component: setState(admins)
Component -> User: Hiển thị bảng danh sách tài khoản

note right
Các cột hiển thị:
- ID, Avatar, Họ tên
- Username, Email
- Vai trò, Ngày tạo, Ngày cập nhật
- Thao tác
end note
@enduml
