@startuml
'!theme cerulean
title Sơ đồ hiển thị danh sách môn học

actor "Admin" as admin
participant "DanhSachMonHocComponents.jsx" as component
participant "monHocService.js" as service
participant "MonHocController.java" as controller
participant "MonHocService.java" as backendService
participant "MonHocRepository" as repository
database "Database" as db

admin -> component: Truy cập trang quản lý môn học
activate component

component -> component: useEffect() - Component mount
component -> component: fetchMonHocs()
component -> service: getAllMonHocs()
activate service

service -> controller: GET /api/monhoc/all
note right: Với JWT token trong header
activate controller

controller -> backendService: findAll()
activate backendService

backendService -> repository: findAll()
activate repository

repository -> db: SELECT * FROM monhoc
activate db
db --> repository: List<MonHoc entities>
deactivate db

repository --> backendService: List<MonHoc>
deactivate repository

backendService -> backendService: Convert entities to DTOs
note right of backendService
  DTO chứa:
  - maMh (Mã môn học)
  - tenMh (Tên môn học)
  - soTiet (Số tiết)
end note

backendService --> controller: List<MonHocDTO>
deactivate backendService

controller --> service: JSON Response
deactivate controller

service --> component: Data array
deactivate service

component -> component: setState(monHocs, filteredData)
component -> component: Render Table với columns:
'note right of component
'  Cột hiển thị:
'  - Mã môn học
'  - Tên môn học
'  - Số tiết
'  - Thao tác (Sửa, Xóa)
'
'  Phân trang: pageSize = 10
'end note

component --> admin: Hiển thị danh sách môn học
deactivate component

@enduml