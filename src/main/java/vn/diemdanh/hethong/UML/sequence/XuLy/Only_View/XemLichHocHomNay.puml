@startuml
!theme plain
title Sơ đồ tuần tự quy trình xem lịch học hôm nay

actor "Sinh viên" as sv
participant "LichHocSVComponents.jsx" as component
participant "LichHocSinhVienService.js" as lichHocService
participant "LichHocController" as controller
participant "LichHocService (BE)" as service
participant "LichHocRepository" as repository
database "Database" as db

sv -> component: Truy cập trang Lịch học hôm nay
activate component
component -> component: useEffect() khi mount
component -> lichHocService: getLichHocHomNay(maSv)
activate lichHocService
lichHocService -> controller: GET /api/lich-hoc/homnay/{maSv}
activate controller
controller -> service: getLichHocHomNay(maSv)
activate service
service -> repository: findLichHocHomNayByMaSv(maSv, today)
activate repository
repository -> db: SELECT * FROM lich_hoc WHERE maSv = ? AND ngayHoc = today
repository <-- db: List<LichHoc>
repository --> service: List<LichHoc>
service -> service: Chuyển sang List<LichHocDto>
service --> controller: List<LichHocDto>
deactivate repository
deactivate service
controller --> lichHocService: JSON Response (List<LichHocDto>)
deactivate controller
lichHocService --> component: Danh sách lịch học hôm nay
deactivate lichHocService
component -> component: setLichHoc(data)
component -> sv: Hiển thị lịch học hôm nay
@enduml 