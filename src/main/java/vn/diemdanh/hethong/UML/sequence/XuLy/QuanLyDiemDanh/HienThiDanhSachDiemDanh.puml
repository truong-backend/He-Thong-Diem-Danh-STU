@startuml
!theme plain
title Hiển thị danh sách điểm danh

actor "Admin" as admin
participant "DanhSachDiemDanhComponents.jsx" as component
participant "diemdanhService.js" as diemdanhService
participant "DiemDanhController" as controller
participant "DiemDanhService (BE)" as service
participant "DiemDanhRepository" as repository
database "Database" as db

admin -> component: Truy cập trang quản lý điểm danh
activate component
component -> component: useEffect() khi mount
component -> diemdanhService: getAllDiemDanhNoPaging()
activate diemdanhService
diemdanhService -> controller: GET /api/diemdanh/all
activate controller
controller -> service: findAll()
activate service
service -> repository: findAll()
activate repository
repository -> db: SELECT * FROM diem_danh
repository <-- db: List<DiemDanh>
repository --> service: List<DiemDanh>
service -> service: Chuyển đổi sang List<DiemDanhDto>
service --> controller: List<DiemDanhDto>
deactivate repository
deactivate service
controller --> diemdanhService: JSON Response (List<DiemDanhDto>)
deactivate controller
diemdanhService --> component: Danh sách điểm danh
deactivate diemdanhService
component -> component: setData(data)
component -> admin: Hiển thị bảng danh sách điểm danh
@enduml 